<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>即時叫號系統</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
    
    <div id="maintenance-overlay"><h1>🚧 維護中</h1></div>
    <div id="status-bar">連線中斷...</div>
    <audio id="notify-sound" src="/ding.mp3" preload="auto"></audio>

    <div class="top-header">
        <h1>櫃台叫號資訊</h1>
        <p id="last-updated">載入中...</p>
    </div>
    
    <div id="queue-grid" class="queue-grid">
        </div>

    <div class="content-wrapper">
        <div class="info-card notify-controls">
            <h3 style="margin:0 0 10px 0;">🔔 設定到號提醒 (LINE/瀏覽器)</h3>
            <div class="input-group">
                <select id="queue-select"><option>載入中...</option></select>
                <input type="number" id="my-number" placeholder="號碼" style="width:80px">
                <button id="enable-notify-btn" style="background:#2563eb; color:white; border:none; padding:8px 15px; border-radius:8px;">設定</button>
            </div>
            <p id="notify-status" style="font-size:0.9rem; color:#666; margin:5px 0;">(支援 LINE LIFF 與 瀏覽器通知)</p>
            <p id="estimated-wait" style="display:none; font-weight:bold; color:#2563eb;"></p>
        </div>

        <div class="info-card">
            <h3>已過號</h3>
            <ul id="passedList"></ul>
        </div>

        <div id="sound-prompt" style="text-align:center; cursor:pointer; color:#d97706; padding:10px;">
            <span class="emoji">🔇</span> 點此啟用音效
        </div>
    </div>

    <div id="featured-container"></div>

    <script src="/js/main.js"></script>
</body>
</html>
